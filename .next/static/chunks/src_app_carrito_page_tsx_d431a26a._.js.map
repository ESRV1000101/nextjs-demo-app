{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/carrito/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from 'react';\nimport { useCart } from '@/context/CartContext';\n\nexport default function CarritoPage() {\n  const { items, removeItem, clearCart, getTotalPrice } = useCart();\n  const [nombre, setNombre] = useState('');\n  const [direccion, setDireccion] = useState('');\n  const [message, setMessage] = useState('');\n  const [errors, setErrors] = useState({ nombre: '', direccion: '' });\n\n  const validateForm = () => {\n    const newErrors = { nombre: '', direccion: '' };\n    let isValid = true;\n\n    if (!nombre.trim()) {\n      newErrors.nombre = 'El nombre es obligatorio';\n      isValid = false;\n    }\n\n    if (!direccion.trim()) {\n      newErrors.direccion = 'La dirección de envío es obligatoria';\n      isValid = false;\n    }\n\n    setErrors(newErrors);\n    return isValid;\n  };\n\n  const handleComprar = () => {\n    if (!validateForm() || items.length === 0) {\n      return;\n    }\n\n    // Crear el contenido del email\n    const itemsList = items.map(item => \n      `- ${item.name} (${item.category}) - Cantidad: ${item.quantity} - Precio: S/ ${item.price.toFixed(2)} - Subtotal: S/ ${(item.price * item.quantity).toFixed(2)}`\n    ).join('%0A');\n\n    const emailSubject = `Nueva Orden - ${nombre.trim()} - S/ ${getTotalPrice().toFixed(2)}`;\n    \n    const emailBody = `Nueva orden de compra - Tienda Frescura%0A%0A` +\n      `INFORMACIÓN DEL CLIENTE:%0A` +\n      `Nombre: ${nombre.trim()}%0A` +\n      `Dirección de envío: ${direccion.trim()}%0A%0A` +\n      `PRODUCTOS PEDIDOS:%0A` +\n      `${itemsList}%0A%0A` +\n      `TOTAL DEL PEDIDO: S/ ${getTotalPrice().toFixed(2)}%0A%0A` +\n      `---%0A` +\n      `Este pedido fue generado automáticamente desde la tienda online.%0A` +\n      `Fecha: ${new Date().toLocaleString('es-PE')}`;\n\n    // Crear la URL de Gmail\n    const gmailUrl = `https://mail.google.com/mail/?view=cm&fs=1&to=esanromanvargas@gmail.com&su=${encodeURIComponent(emailSubject)}&body=${emailBody}`;\n\n    // Abrir Gmail en una nueva pestaña\n    window.open(gmailUrl, '_blank');\n\n    // Mostrar mensaje de confirmación y limpiar carrito\n    setMessage('¡Se ha abierto Gmail para enviar tu pedido! Por favor completa el envío del correo.');\n    clearCart();\n    setNombre('');\n    setDireccion('');\n  };\n\n  const isFormValid = nombre.trim() && direccion.trim() && items.length > 0;\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\n            Carrito de Compras\n          </h1>\n        </div>\n\n        {items.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <div className=\"text-6xl mb-4\">🛒</div>\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-2\">\n              Tu carrito está vacío\n            </h2>\n            <p className=\"text-gray-600 mb-6\">\n              Agrega algunos productos para comenzar tu compra\n            </p>\n            <a\n              href=\"/tienda\"\n              className=\"inline-block bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors\"\n            >\n              Ir a la Tienda\n            </a>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n            {/* Lista de productos */}\n            <div className=\"lg:col-span-2\">\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <h2 className=\"text-2xl font-semibold text-gray-900 mb-6\">\n                  Productos en tu carrito\n                </h2>\n                \n                <div className=\"space-y-4\">\n                  {items.map((item) => (\n                    <div\n                      key={item.id}\n                      className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\"\n                    >\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-semibold text-gray-900\">{item.name}</h3>\n                        <p className=\"text-sm text-gray-600\">{item.category}</p>\n                        <p className=\"text-sm text-gray-600\">\n                          Cantidad: {item.quantity} | Precio unitario: S/ {item.price.toFixed(2)}\n                        </p>\n                      </div>\n                      <div className=\"flex items-center space-x-4\">\n                        <span className=\"font-semibold text-green-600\">\n                          S/ {(item.price * item.quantity).toFixed(2)}\n                        </span>\n                        <button\n                          onClick={() => removeItem(item.id)}\n                          className=\"text-red-600 hover:text-red-800 font-medium\"\n                        >\n                          Eliminar\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                <div className=\"mt-6 pt-6 border-t border-gray-200\">\n                  <div className=\"flex justify-between items-center text-xl font-bold\">\n                    <span>Total:</span>\n                    <span className=\"text-green-600\">S/ {getTotalPrice().toFixed(2)}</span>\n                  </div>\n                </div>\n\n                <button\n                  onClick={clearCart}\n                  className=\"mt-4 w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors\"\n                >\n                  Vaciar Carrito\n                </button>\n              </div>\n            </div>\n\n            {/* Formulario de checkout */}\n            <div className=\"lg:col-span-1\">\n              <div className=\"bg-white rounded-lg shadow-md p-6\">\n                <h2 className=\"text-2xl font-semibold text-gray-900 mb-6\">\n                  Información de Envío\n                </h2>\n\n                <div className=\"space-y-4\">\n                  <div>\n                    <label htmlFor=\"nombre\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Nombre completo *\n                    </label>\n                    <input\n                      type=\"text\"\n                      id=\"nombre\"\n                      value={nombre}\n                      onChange={(e) => setNombre(e.target.value)}\n                      className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 ${\n                        errors.nombre ? 'border-red-500' : 'border-gray-300'\n                      }`}\n                      placeholder=\"Ingresa tu nombre completo\"\n                    />\n                    {errors.nombre && (\n                      <p className=\"mt-1 text-sm text-red-600\">{errors.nombre}</p>\n                    )}\n                  </div>\n\n                  <div>\n                    <label htmlFor=\"direccion\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Dirección de envío *\n                    </label>\n                    <textarea\n                      id=\"direccion\"\n                      value={direccion}\n                      onChange={(e) => setDireccion(e.target.value)}\n                      rows={3}\n                      className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 ${\n                        errors.direccion ? 'border-red-500' : 'border-gray-300'\n                      }`}\n                      placeholder=\"Ingresa tu dirección completa\"\n                    />\n                    {errors.direccion && (\n                      <p className=\"mt-1 text-sm text-red-600\">{errors.direccion}</p>\n                    )}\n                  </div>\n\n                  <button\n                    onClick={handleComprar}\n                    disabled={!isFormValid}\n                    className={`w-full py-3 px-4 rounded-lg font-medium transition-colors ${\n                      isFormValid\n                        ? 'bg-green-600 hover:bg-green-700 text-white'\n                        : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                    }`}\n                  >\n                    Realizar Pedido\n                  </button>\n\n                  {message && (\n                    <div className={`p-3 rounded-md text-sm ${\n                      message.includes('exitosamente') \n                        ? 'bg-green-100 text-green-800' \n                        : 'bg-red-100 text-red-800'\n                    }`}>\n                      {message}\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}